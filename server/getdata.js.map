{"version":3,"file":"getdata.js","sources":["webpack:///src/shared/openData.js"],"sourcesContent":["import React from 'react';\n\nimport logo from './logo.svg';\nimport \"./App.css\";\n\nimport 'isomorphic-fetch';\nimport {\n\tmatch,\n\tRoutingContext,\n\tRouter,\n\tRoute,\n\tIndexRoute,\n\tIndexRedirect,\n\tRedirect,\n\tLink,\n\tbrowserHistory\n} from 'react-router';\n\n\nimport cookie from 'react-cookies';\n\n\nimport {\n\tconnect\n} from 'react-redux';\n\nimport {\n\tbindActionCreators\n} from 'redux';\n\nimport * as actionCreators from '../actions/opendata/opendata.js';\n\nfunction toQueryString(obj) {\n\treturn obj ? Object.keys(obj).sort().map(function(key) {\n\t\tvar val = obj[key];\n\t\tif (Array.isArray(val)) {\n\t\t\treturn val.sort().map(function(val2) {\n\t\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val2);\n\t\t\t}).join('&');\n\t\t}\n\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val);\n\t}).join('&') : '';\n}\n\nclass OpenData extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserProfileData: []\n\t\t}\n\t}\n\n\tcomponentWillMount() {\n\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getOpenData(this.props);\n\t}\n\n\tgetTmp() {\n\t\tvar list = [];\n\t\tthis.props.opendata.map((v, k) => {\n\t\t\tlist.push(<tr key={k}>\n\t\t\t\t<td>{v.date}</td>\n\n\t\t\t\t<td>{v.newUsers}</td>\n\n\t\t\t\t<td>{v.activeUser}</td>\n\n\t\t\t\t<td>{v.id}</td>\n\t\t\t\t</tr>);\n\t\t});\n\t\treturn list;\n\t}\n\n\trender() {\n\n\t\tconsole.log('server render');\n\n\t\t// console.log(this.state.userProfileData, 'this.state.userProfileData11');\n\n\t\tvar dataTmp = this.getTmp();\n\n\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<div className=\"App-header\">\n\t\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\n\t\t\t\t\t<h2>react同构直出demo</h2>\n\t\t\t\t</div>\n\t\t\t\t<p className=\"App-intro\">是不是很酷？ 用户概况</p>\n\t\t\t\t<div className=\"left\">\n\t\t\t\t\t<Link to=\"/\">用户概况</Link>\n\t\t\t\t\t<Link to=\"/kpireport\">KPI报表</Link>\n\t\t\t\t\t<Link to =\"/login\">登录</Link>\n\t\t\t\t\t<Link to =\"/getdata\">开放型数据</Link>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right\">\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>日期</td>\n\t\t\t\t\t\t\t<td>新增用户</td>\n\t\t\t\t\t\t\t<td>活跃用户</td>\n\t\t\t\t\t\t\t<td>操作</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{dataTmp}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n//将state.counter绑定到props的counter\nconst mapStateToProps = (state) => {\n\tconsole.log(state, 'open data###');\n\treturn {\n\t\topendata: state.OpenList.opendata\n\t}\n};\n\n\n//将action的所有方法绑定到props上\nconst mapDispatchToProps = (dispatch, ownProps) => {\n\n\t//全量\n\treturn bindActionCreators(actionCreators, dispatch);\n\n\t// return {\n\t// \tinit: bindActionCreators({\n\t// \t\taddTodo\n\t// \t}, dispatch),\n\t// \tinit2: bindActionCreators({\n\t// \t\tinit2\n\t// \t}, dispatch)\n\t// }\n\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OpenData);\n\n\n// WEBPACK FOOTER //\n// src/shared/openData.js"],"mappings":";A;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAYA;AACA;AAEA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AAEA;AACA;AADA;AAHA;AAMA;AACA;;;AACA;;;AAIA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AADA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAVA;AADA;AAZA;AA8BA;;;;AA1EA;AACA;AA4EA;AACA;AACA;AADA;AACA;AACA;AACA;AADA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;A","sourceRoot":""}